<!-- Page: CompleteProblemsViewPage.ftl -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html><head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="2ad44efcefdc8711f5121ebda965ab3c">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="c3">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90">
    <meta property="fb:admins" content="100001352546622">
    <meta property="og:image" content="http://st.codeforces.com/images/codeforces-telegram-square.png">
    <meta property="og:title" content="Задачи - Codeforces">
    <meta property="og:site_name" content="Codeforces">
    
    <meta name="cc" content="ru17qjwgfb7d">
    <meta name="pc" content="1po5rbqfq5k92">
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2">
    <title>Задачи - Codeforces</title>
        <meta name="description" content="Codeforces. Соревнования и олимпиады по информатике и программированию, сообщество программистов">
        <meta name="keywords" content="программирование информатика контест олимпиада алгоритмы c++ java графы vkcup">
    <meta name="robots" content="index, follow">

    <link rel="stylesheet" href="problems_files/font-awesome.css" type="text/css" charset="utf-8">

        <link href="problems_files/css" rel="stylesheet" type="text/css">


    <link rel="shortcut icon" type="image/png" href="http://st.codeforces.com/favicon.png">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="problems_files/prettify.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/clear.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/style.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/ttypography.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/problem-statement.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/second-level-menu.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/roundbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/datatable.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/table-form.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/topic.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/jquery_003.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/facebox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/jquery.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/jquery_002.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/codeforces.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/colorbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/jquery_004.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="problems_files/community.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="problems_files/groups.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="problems_files/sidebar-menu.css" type="text/css" charset="utf-8">

    <script src="problems_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="problems_files/prettify.js"></script>
    <script type="text/javascript" src="problems_files/jquery-1.js"></script>
    <script type="text/javascript" src="problems_files/sockjs-0.js"></script>
    <script type="text/javascript" src="problems_files/vertxbus-1.js"></script>
    <script type="text/javascript" src="problems_files/jquery_007.js"></script>
    <script type="text/javascript" src="problems_files/jquery_010.js"></script>
    <script type="text/javascript" src="problems_files/jquery_011.js"></script>
    <script type="text/javascript" src="problems_files/facebox.js"></script>
    <script type="text/javascript" src="problems_files/jquery_005.js"></script>
    <script type="text/javascript" src="problems_files/wysiwyg_004.js"></script>
    <script type="text/javascript" src="problems_files/wysiwyg_002.js"></script>
    <script type="text/javascript" src="problems_files/wysiwyg.js"></script>
    <script type="text/javascript" src="problems_files/wysiwyg_003.js"></script>
    <script type="text/javascript" src="problems_files/jquery_008.js"></script>
    <script type="text/javascript" src="problems_files/jquery_002.js"></script>
    <script type="text/javascript" src="problems_files/jquery_004.js"></script>
    <script type="text/javascript" src="problems_files/jquery_009.js"></script>
    <script type="text/javascript" src="problems_files/jquery_012.js"></script>
    <script type="text/javascript" src="problems_files/jquery.js"></script>
    <script type="text/javascript" src="problems_files/codeforces.js"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="problems_files/style_002.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="problems_files/style_003.css" type="text/css" charset="utf-8">

    <script type="text/javascript" src="problems_files/share.js" charset="utf-8"></script>
    
    <script type="text/javascript" src="problems_files/jquery_006.js"></script>
    <script type="text/javascript" src="problems_files/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->

        <script type="text/javascript" src="problems_files/jquery_003.js"></script>
        <script src="problems_files/openapi.js" type="text/javascript"></script>

</head>
<body><div style="position: absolute; top: -10000px;" id="vk_api_transport"></div><span style="display:none;" class="csrf-token" data-csrf="2ad44efcefdc8711f5121ebda965ab3c">&nbsp;</span>
<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 30px;"><i class="icon-circle-arrow-up"></i></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    VK.init({apiId: 1961905});
</script>
<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>

    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return (elem.textContent || elem.innerText || jQuery(elem).text() || '').toLowerCase().indexOf((match[3] || '').toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    $(".second-level-menu-list").lavaLamp({
        fx: "backout",
        speed: 1000
    });


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();

        var count = 0;

        function getDelay() {
            var delay = 0;
            var last = Codeforces.getCookie("lastOnlineTimeUpdaterInvocation");
            if (last && last != null) {
                var period = count < 20 ? 180 * 1000 : 360 * 1000;
                delay = period - (new Date().getTime() - last);
                if (delay < 0)
                    delay = 0;
            }
            return delay;
        }

        window.setInterval(function () {
            if (getDelay() <= 0 && count < 120) {
                ++count;
                Codeforces.ping("/data/update-online");
            }
        }, 5000);

        var handle = "ugnthesea";
        $("a.rated-user:contains(" + handle + "), span.participant:contains(" + handle + ")").each(function () {
            if ($(this).text() == handle) {
                var td = $(this).parent();
                var tr = $(this).parent().parent();
                if (td.is("td") && tr.is("tr")) {
                    tr.addClass("highlighted-row");
                }
            }
        });

        });
    </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = (document.location.protocol == 'https:' ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div id="body">
<div style="width: 950px; margin: 0 auto;">
    <div id="header" style="position:relative;">
        <div style="float:left;">
                <a href="http://codeforces.ru/"><img src="problems_files/codeforces-logo-with-telegram.png"></a>
        </div>
        <div class="lang">
            <div style="text-align: right;">
                <a href="http://codeforces.ru/group/BETcaEd2bM/contest/202467/problems?locale=en"><img src="problems_files/gb.png" title="In English" alt="In English"></a>
                <a href="http://codeforces.ru/group/BETcaEd2bM/contest/202467/problems?locale=ru"><img src="problems_files/ru.png" title="По-русски" alt="По-русски"></a>
            </div>
        </div>
        <br style="clear: both;">
    </div>

    <div style="text-align: center;font-size: 18px;margin-bottom: 0.5em;" class="caption">Сборы ФМЛ №31. Контест 3. Переборы</div>
    <div style="border-top: 1px solid #ccc; height: 1em;"></div>

        <div style="margin-bottom: 4em;page-break-after: always;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="A">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">A. Деньги</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 second</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>64 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>У Фауста есть <span class="tex-span"><i>n</i></span>
 монет разного достоинства. Он хочет раздать их все нескольким своим 
друзьям так, чтобы каждый из них получил одинаковое количество монет, а 
суммы, которые получил каждый из друзей Фауста были бы попарно различны.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке находятся два числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> (<span class="tex-span">1 ≤ <i>m</i> ≤ <i>n</i> ≤ 30</span>) - количество монет у Фауста и количество его друзей соответственно. В следующей строке находятся <span class="tex-span"><i>n</i></span> чисел - достоинства монет - натуральные числа, не превосходящие <span class="tex-span">10</span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Если раздать все монеты так, чтобы условие выполнялось, невозможно, выведите «No». Иначе выведите в первой строке «Yes» и далее <span class="tex-span"><i>m</i></span> строк, в <span class="tex-span"><i>i</i></span>-й из которыx — достоинства монет, которые получит <span class="tex-span"><i>i</i></span>-й друг Фауста, разделенные пробелом.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>5 5<br>1 2 3 4 5<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>Yes<br>1 <br>2 <br>3 <br>4 <br>5 <br></pre></div><div class="input"><div class="title">Входные данные</div><pre>10 2<br>1 2 1 2 1 2 1 2 1 2<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>Yes<br>1 1 1 2 2 <br>1 1 2 2 2 <br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="B">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">B. Роланд и роза</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>3 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Роланд любит выращивать цветы. Недавно он вырастил красивую розу в точке <span class="tex-span">(0, 0)</span> декартовой системы координат. Роза настолько красива, что Роланд опасается, как бы силы зла не попытались украсть ее. </p><p>Чтобы защитить розу, Роланд хочет построить <span class="tex-span"><i>n</i></span> защитных башен (будем считать, что башня это точка на плоскости) на расстоянии не более <span class="tex-span"><i>r</i></span>
 от розы. Кроме того, Роланд считает, что башни должны быть построены в 
точках с целочисленными координатами, а сумма квадратов расстояний между
 всем парами башен должна быть как можно больше. Обратите внимание, что 
Роланд может построить несколько башен в одной и той же точке плоскости,
 также разрешается строить башни в точке <span class="tex-span">(0, 0)</span>.</p><p>Помогите
 Роланду построить башни в целочисленных точках так, чтобы сумма 
квадратов расстояний между всеми башнями была максимально возможной. 
Обратите внимание, что под расстоянием в этой задаче понимается 
евклидово расстояние между точками.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке записаны два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>r</i></span> <span class="tex-span">(2 ≤ <i>n</i> ≤ 8;&nbsp;1 ≤ <i>r</i> ≤ 30)</span>.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведите целое число — максимально возможную сумму квадратов расстояний. В <span class="tex-span"><i>i</i></span>-й из следующих <span class="tex-span"><i>n</i></span> строк выведите два целых числа <span class="tex-span"><i>x</i><sub class="lower-index"><i>i</i></sub>, <i>y</i><sub class="lower-index"><i>i</i></sub></span> — координаты <span class="tex-span"><i>i</i></span>-й башни. Каждая башня должна находиться внутри или на границе окружности радиуса <span class="tex-span"><i>r</i></span>.
 Обратите внимание, что несколько башен могут находиться в одной и той 
же точке плоскости, также башни могут находиться в точке <span class="tex-span">(0, 0)</span>.</p><p>Если существует несколько подходящих оптимальных расстановок, выведите любую.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>4 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>16<br>0 1<br>0 1<br>0 -1<br>0 -1<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>3 6<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>312<br>0 6<br>5 -3<br>-5 -3<br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="C">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">C. Ищем граф</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>1 секунда</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Будем называть неориентированный граф из <span class="tex-span"><i>n</i></span> вершин <span class="tex-font-style-it"><span class="tex-span"><i>p</i></span>-интересным</span>, если выполнены условия: </p><ul> <li> граф содержит ровно <span class="tex-span">2<i>n</i> + <i>p</i></span> ребер; </li><li> граф не содержит петель и кратных ребер; </li><li> для любого целого <span class="tex-span"><i>k</i></span> (<span class="tex-span">1 ≤ <i>k</i> ≤ <i>n</i></span>) любой подграф, состоящий из <span class="tex-span"><i>k</i></span> вершин, содержит не более <span class="tex-span">2<i>k</i> + <i>p</i></span> ребер. </li></ul><p><span class="tex-font-style-it">Подграфом</span>
 графа будем называть некоторое множество вершин графа и некоторое 
множество ребер графа. Причем множество ребер должно удовлетворять 
условию: оба конца каждого ребра из множества должны принадлежать 
выбранному множеству вершин. </p><p>Ваша задача отыскать <span class="tex-font-style-it"><span class="tex-span"><i>p</i></span>-интересный</span> граф, состоящий из <span class="tex-span"><i>n</i></span> вершин.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке задано единственное целое число <span class="tex-span"><i>t</i></span> (<span class="tex-span">1 ≤ <i>t</i> ≤ 5</span>) — количество тестовых данных. В следующих <span class="tex-span"><i>t</i></span> строках задано по два целых числа: <span class="tex-span"><i>n</i></span>, <span class="tex-span"><i>p</i></span> (<span class="tex-span">5 ≤ <i>n</i> ≤ 24</span>; <span class="tex-span"><i>p</i> ≥ 0</span>; <img class="tex-formula" src="problems_files/cb77925daa60ed3fa4319d6dab40a46c2e1f67c9.png" align="middle">) — количество вершин в графе и параметр интересности для соответствующего теста. </p><p>Гарантируется, что искомый граф существует.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>Для каждого из <span class="tex-span"><i>t</i></span> тестов выведите <span class="tex-span">2<i>n</i> + <i>p</i></span> строк, содержащих описание ребер <span class="tex-font-style-it"><span class="tex-span"><i>p</i></span>-интересного</span> графа: <span class="tex-span"><i>i</i></span>-я строка должна содержать два целых числа через пробел <span class="tex-span"><i>a</i><sub class="lower-index"><i>i</i></sub>, <i>b</i><sub class="lower-index"><i>i</i></sub></span> (<span class="tex-span">1 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub>, <i>b</i><sub class="lower-index"><i>i</i></sub> ≤ <i>n</i>;&nbsp;<i>a</i><sub class="lower-index"><i>i</i></sub> ≠ <i>b</i><sub class="lower-index"><i>i</i></sub></span>) — две вершины, соединенные ребром в результирующем графе. Считайте, что вершины графа пронумерованы целыми числами от <span class="tex-span">1</span> до <span class="tex-span"><i>n</i></span>. </p><p>Ответы
 для тестов выводите в том порядке, в котором тесты заданы во входных 
данных. Если существует несколько решений, разрешается вывести любое из 
них.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>1<br>6 0<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1 2<br>1 3<br>1 4<br>1 5<br>1 6<br>2 3<br>2 4<br>2 5<br>2 6<br>3 4<br>3 5<br>3 6<br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="D">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">D. Красивые IP-адреса</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>2 секунды</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 мегабайт</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p><span class="tex-font-style-it">В задаче используется упрощенная модель адресов в TCP/IP, внимательно прочтите условие.</span></p><p>IP-адрес
 — это 32-битное число, представленное в виде четверки десятичных 
8-битных чисел (без лидирующих нулей), записанных через точку. Например,
 запись <span class="tex-font-style-tt">0.255.1.123</span> обозначает корректный IP-адрес, а записи <span class="tex-font-style-tt">0.256.1.123</span> и <span class="tex-font-style-tt">0.255.1.01</span> — нет. В данной задаче произвольная четверка 8-битных чисел является корректным IP-адресом.</p><p>Наш
 герой Поликарп до сих пор работает системным администратором в 
некоторой большой корпорации. Ему нравятся красивые IP-адреса. Чтобы 
проверить, является ли некоторый IP-адрес красивым, нужно сделать 
следующее:</p><ol> <li> выписать в строку четверку 8-битных чисел IP-адреса, пропуская точки; </li><li> проверить, является ли получившаяся строка палиндромом. </li></ol><p>Напомним, что палиндромом называется строка, которая одинаково читается справа налево и слева направо.</p><p>Например IP-адреса <span class="tex-font-style-tt">12.102.20.121</span> и <span class="tex-font-style-tt">0.3.14.130</span> являются красивыми (поскольку строки «<span class="tex-font-style-tt">1210220121</span>» и «<span class="tex-font-style-tt">0314130</span>» являются палиндромами), а IP-адреса <span class="tex-font-style-tt">1.20.20.1</span> и <span class="tex-font-style-tt">100.4.4.1</span> — нет.</p><p>Поликарп
 хочет найти все красивые IP-адреса, в которых встречается заданный 
набор цифр. Каждая цифра из набора должна встречаться в IP-адресе не 
менее одного раза, никакие другие цифры не должны встречаться в 
IP-адресе. Помогите ему справиться с этой нелегкой задачей.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке задано единственное целое число <span class="tex-span"><i>n</i></span> <span class="tex-span">(1 ≤ <i>n</i> ≤ 10)</span> — количество цифр в наборе. Во второй строке задан набор цифр <span class="tex-span"><i>a</i><sub class="lower-index">1</sub>, <i>a</i><sub class="lower-index">2</sub>, ..., <i>a</i><sub class="lower-index"><i>n</i></sub></span> <span class="tex-span">(0 ≤ <i>a</i><sub class="lower-index"><i>i</i></sub> ≤ 9)</span>. Гарантируется, что все цифры в наборе различны.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первую строку выведите единственное число <span class="tex-span"><i>k</i></span> — количество красивых IP-адресов, которые содержат заданный набор цифр. Далее в <span class="tex-span"><i>k</i></span> строк выведите сами IP-адреса по одному в строке в произвольном порядке.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>6<br>0 1 2 9 8 7<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>6<br>78.190.209.187<br>79.180.208.197<br>87.190.209.178<br>89.170.207.198<br>97.180.208.179<br>98.170.207.189<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>1<br>4<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>16<br>4.4.4.4<br>4.4.4.44<br>4.4.44.4<br>4.4.44.44<br>4.44.4.4<br>4.44.4.44<br>4.44.44.4<br>4.44.44.44<br>44.4.4.4<br>44.4.4.44<br>44.4.44.4<br>44.4.44.44<br>44.44.4.4<br>44.44.4.44<br>44.44.44.4<br>44.44.44.44<br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>
        <div style="margin-bottom: 4em;page-break-after: always;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="F">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">F. Помогите складовщику</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>3 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>256 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>В
 Тридевятом царстве наступила поздняя осень, убран небывалый урожай, и 
настало время готовиться к зиме. В то время как большинство жителей 
отмечает праздник урожая, складовщик Семен пытается решить довольно 
нетривиальную задачу размещения на складах сельскохозяйственного 
оборудования.</p><p>Проблемы у него возникли с самой крупной техникой, 
которой, разумеется, являются турбоплуги. Проблема в том, что турбоплуг 
при хранении занимает на складе не обычную прямоугольную форму, а 
T-образную, как на одной из четырех картинок ниже (где символом «<span class="tex-font-style-tt">#</span>» обозначено место, занимаемое турбоплугом, символом «<span class="tex-font-style-tt">.</span>» — свободное пространство):</p><center> <span class="tex-font-style-tt"> <span> <pre>###      ..#      .#.      #..<br>.#.      ###      .#.      ###<br>.#.      ..#      ###      #..<br></pre> </span> </span> </center><p>Перед Семеном встала довольно естественная задача: разместить на заданном складе размерами <span class="tex-span"><i>n</i> × <i>m</i></span>
 максимальное количество турбоплугов. При хранении турбоплуги можно 
поворачивать как угодно (так чтобы они занимали область как на одной из 
четырех картинок выше), однако нельзя, чтобы два турбоплуга 
«накладывались», то есть занимали общую область склада.</p><p>Семен 
чувствует, что один не сможет найти оптимальное размещение турбоплугов 
на складе, максимизирующее их общее количество. Поможете ему?</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В единственной строке записаны через пробел два целых числа <span class="tex-span"><i>n</i></span> и <span class="tex-span"><i>m</i></span> — размеры склада (<span class="tex-span">1 ≤ <i>n</i>, <i>m</i> ≤ 9</span>).</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первой строке выведите максимальное количество турбоплугов, которое можно разместить на складе. В следующих <span class="tex-span"><i>n</i></span> строках выведите по <span class="tex-span"><i>m</i></span> символов. Символом «<span class="tex-font-style-tt">.</span>» (точка) обозначайте пустое место, последовательными заглавными буквами латинского алфавита («<span class="tex-font-style-tt">A</span>» — для первого турбоплуга, «<span class="tex-font-style-tt">B</span>»
 — для второго, и так далее до количества турбоплугов в вашей схеме) — 
места для соответствующих турбоплугов при их оптимальном расположении на
 складе. Порядок нумерации мест для турбоплугов на складе значения не 
имеет. Если существует несколько оптимальных решений для склада данных 
размеров — выведите любое.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>3 3<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>1<br>AAA<br>.A.<br>.A.<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>5 6<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>4<br>A..C..<br>AAAC..<br>ABCCCD<br>.B.DDD<br>BBB..D<br></pre></div><div class="input"><div class="title">Входные данные</div><pre>2 2<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>0<br>..<br>..<br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>
        <div style="margin-bottom: 2em;">
<!-- Frame: ProblemViewFrame.ftl -->
<div class="problemindexholder" problemindex="G">
<div class="ttypography"><div class="problem-statement"><div class="header"><div class="title">G. Нахождение порядка</div><div class="time-limit"><div class="property-title">ограничение по времени на тест</div>4 seconds</div><div class="memory-limit"><div class="property-title">ограничение по памяти на тест</div>512 megabytes</div><div class="input-file"><div class="property-title">ввод</div>стандартный ввод</div><div class="output-file"><div class="property-title">вывод</div>стандартный вывод</div></div><div><p>Девочка
 Лена очень любит порядок и пытается везде его искать. Как-то раз она 
собиралась в университет и заметила, что в комнате ужасный беспорядок — 
все вещи из ее сумочки разбросаны по комнате. Конечно же, она захотела 
их собрать в сумочку. Беда только в том, что девочка не может нести 
более двух вещей одновременно и не может переносить сумочку. Также если 
она взяла вещь, то положить ее куда-нибудь кроме сумочки она не может — 
ей мешает врожденное чувство идеального порядка.</p><p>Вам заданы 
координаты сумочки и координаты вещей в некоторой декартовой системе 
координат. Известно, что девочка проходит путь между двумя объектами за 
время равное квадрату длины отрезка соединяющего точки, в которых 
находятся объекты. Также известно, что изначально координаты девочки и 
сумочки совпадают. Требуется найти такой порядок действий, при котором 
девочка соберет все вещи в сумочку за минимальное время.</p></div><div class="input-specification"><div class="section-title">Входные данные</div><p>В первой строке входного файла заданы координаты сумочки <span class="tex-span"><i>x</i><sub class="lower-index"><i>s</i></sub>, <i>y</i><sub class="lower-index"><i>s</i></sub></span>. Во второй строке задано число <span class="tex-span"><i>n</i></span> (<span class="tex-span">1 ≤ <i>n</i> ≤ 24</span>) — количество вещей у девочки. В следующих <span class="tex-span"><i>n</i></span>
 строках заданы координаты вещей девочки. Все координаты не превосходят 
по модулю 100. Координаты всех заданных во входных данных объектов 
различны. Все заданные числа — целые.</p></div><div class="output-specification"><div class="section-title">Выходные данные</div><p>В первую строку выведите единственное число минимальное время, требуемое девочке чтобы собрать все вещи.</p><p>Во
 вторую строку выведите возможный оптимальный путь Лены. Каждая вещь 
обозначается своим порядковым номером при задании во входных данных (от 1
 до <span class="tex-span"><i>n</i></span>), а позиция сумочки 
обозначается числом 0. Путь должен начинаться и заканчиваться в позиции 
сумочки. Если решений несколько, выведите любое из них.</p></div><div class="sample-tests"><div class="section-title">Примеры тестов</div><div class="sample-test"><div class="input"><div class="title">Входные данные</div><pre>0 0<br>2<br>1 1<br>-1 1<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>8<br>0 1 2 0 <br></pre></div><div class="input"><div class="title">Входные данные</div><pre>1 1<br>3<br>4 3<br>3 4<br>0 0<br></pre></div><div class="output"><div class="title">Выходные данные</div><pre>32<br>0 1 2 0 3 0 <br></pre></div></div></div></div></div>
</div>


<script type="text/javascript">
    $(document).ready(function () {
        function endsWith(string, suffix) {
            return string.indexOf(suffix, string.length - suffix.length) !== -1;
        }

        var inputFileDiv = $("div.input-file");
        var inputFile = inputFileDiv.text();
        var outputFileDiv = $("div.output-file");
        var outputFile = outputFileDiv.text();

        if (!endsWith(inputFile, "стандартный ввод")) {
            inputFileDiv.attr("style", "font-weight: bold");
        }

        if (!endsWith(outputFile, "стандартный вывод")) {
            outputFileDiv.attr("style", "font-weight: bold");
        }

        var titleDiv = $("div.header div.title");



    });
</script>
<!-- /Frame: ProblemViewFrame.ftl -->        </div>

    <br style="clear:both;">

    <div id="footer">
        <div><a href="http://codeforces.ru/">Codeforces</a> (c) Copyright 2010-2015 Михаил Мирзаянов</div>
        <div>Соревнования по программированию 2.0</div>

    </div>
</div>
</div>


<div id="datepick-div" style="display: none;"></div><div style="display: none;" id="cboxOverlay"></div><div style="display: none; padding-bottom: 42px; padding-right: 42px;" class="" id="colorbox"><div id="cboxWrapper"><div><div style="float: left;" id="cboxTopLeft"></div><div style="float: left;" id="cboxTopCenter"></div><div style="float: left;" id="cboxTopRight"></div></div><div style="clear: left;"><div style="float: left;" id="cboxMiddleLeft"></div><div style="float: left;" id="cboxContent"><div style="width: 0px; height: 0px; overflow: hidden; float: left;" id="cboxLoadedContent"></div><div style="float: left;" id="cboxLoadingOverlay"></div><div style="float: left;" id="cboxLoadingGraphic"></div><div style="float: left;" id="cboxTitle"></div><div style="float: left;" id="cboxCurrent"></div><div style="float: left;" id="cboxNext"></div><div style="float: left;" id="cboxPrevious"></div><div style="float: left;" id="cboxSlideshow"></div><div style="float: left;" id="cboxClose"></div></div><div style="float: left;" id="cboxMiddleRight"></div></div><div style="clear: left;"><div style="float: left;" id="cboxBottomLeft"></div><div style="float: left;" id="cboxBottomCenter"></div><div style="float: left;" id="cboxBottomRight"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div></body></html>
<!-- /Page: CompleteProblemsViewPage.ftl -->